<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2020-10-12 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20201012" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JDBDT &#x2013; JDBDT</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="./" id="bannerLeft">
                                                                                                <img src="images/jdbdt-logo.png"  alt="JDBDT"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2020-10-12
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.3.0
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">JDBDT</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Home</a>
          </li>
                
      <li>
  
                          <a href="MIT_License.html" title="License">
          <span class="none"></span>
        License</a>
            </li>
                              <li class="nav-header">Reference</li>
                              
      <li>
  
                          <a href="Facade.html" title="API facade">
          <span class="none"></span>
        API facade</a>
            </li>
                
      <li>
  
                          <a href="DB.html" title="Database handles">
          <span class="none"></span>
        Database handles</a>
            </li>
                
      <li>
  
                          <a href="DataSources.html" title="Data sources">
          <span class="none"></span>
        Data sources</a>
            </li>
                
      <li>
  
                          <a href="DataSets.html" title="Data sets">
          <span class="none"></span>
        Data sets</a>
            </li>
                
      <li>
  
                          <a href="DBSetup.html" title="Database setup">
          <span class="none"></span>
        Database setup</a>
            </li>
                
      <li>
  
                          <a href="DBAssertions.html" title="Assertions">
          <span class="none"></span>
        Assertions</a>
            </li>
                
      <li>
  
                          <a href="Logs.html" title="Logging format">
          <span class="none"></span>
        Logging format</a>
            </li>
                
      <li>
  
                          <a href="Compatibility.html" title="Compatibility">
          <span class="none"></span>
        Compatibility</a>
            </li>
                
      <li>
  
                          <a href="apidocs/index.html" title="Javadoc">
          <span class="none"></span>
        Javadoc</a>
            </li>
                              <li class="nav-header">Tutorial</li>
                              
      <li>
  
                          <a href="Tutorial.html" title="Guide">
          <span class="none"></span>
        Guide</a>
            </li>
                
      <li>
  
                          <a href="http://github.com/JDBDT/jdbdt-tutorial" class="externalLink" title="Code @ GitHub">
          <span class="none"></span>
        Code @ GitHub</a>
            </li>
                              <li class="nav-header">Development</li>
                              
      <li>
  
                          <a href="http://search.maven.org/#search%7Cga%7C1%7Cjdbdt" class="externalLink" title="Maven Central">
          <span class="none"></span>
        Maven Central</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/JDBDT/jdbdt/" class="externalLink" title="Source code">
          <span class="none"></span>
        Source code</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/JDBDT/jdbdt/issues/" class="externalLink" title="Issue tracker">
          <span class="none"></span>
        Issue tracker</a>
            </li>
                
      <li>
  
                          <a href="https://travis-ci.org/JDBDT/jdbdt/" class="externalLink" title="Travis CI">
          <span class="none"></span>
        Travis CI</a>
            </li>
                
      <li>
  
                          <a href="https://ci.appveyor.com/project/edrdo/jdbdt" class="externalLink" title="AppVeyor CI">
          <span class="none"></span>
        AppVeyor CI</a>
            </li>
                
      <li>
  
                          <a href="https://sonarcloud.io/organizations/jdbdt/projects" class="externalLink" title="SonarCloud">
          <span class="none"></span>
        SonarCloud</a>
            </li>
                
      <li>
  
                          <a href="https://www.codefactor.io/repository/github/jdbdt/jdbdt" class="externalLink" title="CodeFactor">
          <span class="none"></span>
        CodeFactor</a>
            </li>
                
      <li>
  
                          <a href="project-info.html" title="Maven reports">
          <span class="none"></span>
        Maven reports</a>
            </li>
                
      <li>
  
                          <a href="Inception.html" title="Inception">
          <span class="none"></span>
        Inception</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>JDBDT</h1>
<p><a class="externalLink" href="http://github.com/JDBDT"><img src="images/github.png" alt="Hosted at: GitHub" /></a> <a class="externalLink" href="http://jdbdt.org/MIT_License.html"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" /></a> <a class="externalLink" href="https://search.maven.org/#search%7Cga%7C1%7Corg.jdbdt"><img src="https://img.shields.io/maven-central/v/org.jdbdt/jdbdt.svg" alt="Maven Central" /></a> <a class="externalLink" href="https://github.com/JDBDT/jdbdt/releases"><img src="https://img.shields.io/github/release/JDBDT/jdbdt.svg" alt="GitHub release" /></a> <a class="externalLink" href="https://travis-ci.org/JDBDT/jdbdt"><img src="https://api.travis-ci.org/JDBDT/jdbdt.png?branch=master" alt="Build status" /></a> <a class="externalLink" href="https://ci.appveyor.com/project/edrdo/jdbdt"><img src="https://ci.appveyor.com/api/projects/status/647d281hp1b8py3p?svg=false" alt="AppVeyor build status" /></a></p>
<div class="section">
<h2><a name="About"></a>About</h2>
<p>JDBDT (Java DataBase Delta Testing) is an open-source Java library for testing database applications. The library is designed for automation of database setup and validation in test code. JDBDT is compact and has no third-party library dependencies (it just uses the Java 8 SE API internally), making it also easy and lightweight to integrate. </p>
<p>Compared to existing database testing frameworks, the main conceptual novelty is the possibility of using <a href="DBAssertions.html#DeltaAssertions">&#x3b4;-assertions</a>. For details, you may browse the reference documentation available in this site, along with the <a href="apidocs/index.html?org/jdbdt/JDBDT.html">Javadoc</a> for the JDBDT API and the <a href="Tutorial.html">JDBDT tutorial</a>.</p></div>
<div class="section">
<h2><a name="Contribute"></a>Contribute</h2>
<p>The code is hosted at <a class="externalLink" href="https://github.com/JDBDT/jdbdt">GitHub</a>. Please use the <a class="externalLink" href="https://github.com/edrdo/JDBDT/issues">issue tracker</a> to report bugs or propose new features. For other issues e-mail <tt>delta _at_ jdbdt.org</tt>.</p></div>
<div class="section">
<h2><a name="Installation"></a>Installation</h2>
<p><b>Prerequisite:</b> JDBDT requires Java 8, it will not work with earlier Java versions. </p>
<div class="section">
<h3><a name="Maven_Central"></a>Maven Central</h3>
<p>JDBDT is available from <a class="externalLink" href="http://search.maven.org/#search%7Cga%7C1%7Cjdbdt">Maven Central</a>.</p>
<p><i>Maven setup</i></p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;dependency&gt;
    &lt;groupId&gt;org.jdbdt&lt;/groupId&gt;
    &lt;artifactId&gt;jdbdt&lt;/artifactId&gt;
    &lt;version&gt;1.3.0&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>
<p><i>Gradle setup</i></p>

<div class="source">
<div class="source"><pre class="prettyprint"> compile 'org.jdbdt:jdbdt:1.3.0'
</pre></div></div>
<p>Setup instructions for other build systems are available <a href="dependency-info.html">here</a> .</p></div>
<div class="section">
<h3><a name="GitHub"></a>GitHub</h3>
<p>JDBDT release artifacts are also available at <a class="externalLink" href="https://github.com/JDBDT/jdbdt/releases">GitHub</a>.</p></div>
<div class="section">
<h3><a name="Snapshot_builds"></a>Snapshot builds</h3>
<p>To compile and install the latest snapshot from scratch, use the following commands:</p>

<div class="source">
<div class="source"><pre class="prettyprint">git clone git@github.com:JDBDT/jdbdt.git
cd jdbdt
mvn install 
</pre></div></div></div></div>
<div class="section">
<h2><a name="Main_features_in_a_nutshell"></a>Main features in a nutshell</h2>
<div class="section">
<h3><a name="API_facade"></a>API facade</h3>
<p>The core functionality is exposed by a simple <a href="Facade.html">API facade</a>.</p>

<div class="source">
<div class="source"><pre class="prettyprint">import static org.jdbdt.JDBDT.*;
</pre></div></div></div>
<div class="section">
<h3><a name="Data_sources"></a>Data sources</h3>
<p><a href="DataSources.html">Tables and queries</a> can be used as data sources in association to a <a href="DB.html">database</a>. </p>

<div class="source">
<div class="source"><pre class="prettyprint">DB db = database(&quot;jdbc:myFaveDBEngine://myDB&quot;);

Table userTable = 
  table(&quot;USER&quot;)
 .columns(&quot;ID&quot;, &quot;LOGIN&quot;, &quot;NAME&quot;, &quot;PASSWORD&quot;, &quot;CREATED&quot;)
 .build(db);

Query idQuery = 
  select(&quot;LOGIN&quot;, &quot;NAME&quot;)
 .from(&quot;USER&quot;)
 .where(&quot;ID = ?&quot;)
 .arguments(userId)
 .build(db);
</pre></div></div></div>
<div class="section">
<h3><a name="Programmatic_definition_of_data_sets"></a>Programmatic definition of data sets</h3>
<p><a href="DataSets.html">Data sets</a> are defined programmatically, for instance using data set builders, without need to maintain external &#x201c;data files&#x201d;. Data sets can also be read from CSV files anyway if convenient. </p>

<div class="source">
<div class="source"><pre class="prettyprint">DataSet data = 
   builder(t)
  .sequence(&quot;ID&quot;, 1) // 1, 2, 3, ...
  .sequence(&quot;LOGIN&quot;, &quot;harry&quot;, &quot;mark&quot;, &quot;john&quot;)
  .sequence(&quot;NAME&quot;, &quot;Harry H&quot;, &quot;Mark M&quot;, &quot;John J&quot;)
  .sequence(&quot;PASSWORD&quot;, i -&gt; &quot;password &quot; + i , 1)
  .random(&quot;CREATED&quot;, Date.valueOf(&quot;2015-01-01&quot;), Date.valueOf(&quot;2015-12-31&quot;))
  .generate(3) // generate 3 rows 
  .sequence(&quot;LOGIN&quot;, i -&gt; &quot;guest_&quot; + i, 4)  // &quot;user_4&quot;, &quot;user_5&quot;, ...
  .sequence(&quot;NAME&quot;, i -&gt; &quot;Guest User &quot; + i, 4) // &quot;Guest User 4&quot;, ...
  .value(&quot;password&quot;, &quot;samePasswordForAllGuests&quot;) 
  .generate(6) // 6 more rows keeping ID sequence and CREATED random filler
  .data();   
</pre></div></div></div>
<div class="section">
<h3><a name="Database_setup"></a>Database setup</h3>
<p><a href="DBSetup.html">Setup methods</a> can be used to define database contents, for instance to populate tables, clear them, setting &amp; restoring save points, &#x2026;</p>

<div class="source">
<div class="source"><pre class="prettyprint">static Table theTable;
static DataSet theinitialStata; 

@BeforeClass
public static void globalSetup() {
  theTable = ... ;
  theInitialData = ... ;
}

@Before
public void perTestSetup() {
   populateIfChanged(initialData);
}
</pre></div></div></div>
<div class="section">
<h3><a name="a-assertions"></a>&#x3b4;-assertions</h3>
<p><a href="DBAssertions.html#DeltaAssertions">&#x3b4;-assertions</a> can be used to verify database changes incrementally, in addition to standard assertions for <a href="DBAssertions.html#StateAssertions">database state</a> or <a href="DBAssertions.html#DataSetAssertions">data set comparison</a>. </p>

<div class="source">
<div class="source"><pre class="prettyprint">@Test
public void testUserInsertion() {
  User uJohn = ...;
  DataSet newRow = 
     data(theTable)
    .row(999, &quot;john&quot;, &quot;John&quot;, &quot;jpass&quot;, Date.valueOf(&quot;2016-01-01&quot;));
  sut.insertUser( uJohn ); 
  // Verify the insertion; assertion fails if other changes are detected
  assertInserted(newRow); 
}

@Test
public void testHarmlessQuery() {
  User u = sut.getUser(&quot;john&quot;);
  ... // standard assertions
  assertUnchanged(theTable); // no delta, query is really harmless!
}
</pre></div></div></div>
<div class="section">
<h3><a name="Logging"></a>Logging</h3>
<p>Assertions and setup operations can be <a href="Logs.html">logged onto (optionally compressed) XML files</a>.</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;jdbdt-log-message time=&quot;...&quot; version=&quot;...&quot;&gt;
...
  &lt;delta-assertion&gt;
    &lt;expected&gt;
      &lt;old-data count=&quot;0&quot;/&gt;
      &lt;new-data count=&quot;0&quot;/&gt;
    &lt;/expected&gt;
    &lt;errors&gt;
      &lt;old-data&gt;
        &lt;expected count=&quot;0&quot;/&gt;
        &lt;actual count=&quot;1&quot;&gt;
          &lt;row&gt;
            &lt;column java-type=&quot;java.lang.String&quot; label=&quot;LOGIN&quot;&gt;linus&lt;/column&gt;
            &lt;column java-type=&quot;java.lang.String&quot; label=&quot;NAME&quot;&gt;Linus Torvalds&lt;/column&gt;
            &lt;column java-type=&quot;java.lang.String&quot; label=&quot;PASSWORD&quot;&gt;linux&lt;/column&gt;
            &lt;column java-type=&quot;java.sql.Date&quot; label=&quot;CREATED&quot;&gt;2015-01-01&lt;/column&gt;
          &lt;/row&gt;
        &lt;/actual&gt;
      &lt;/old-data&gt;
      &lt;new-data&gt;
        &lt;expected count=&quot;0&quot;/&gt;
        &lt;actual count=&quot;0&quot;/&gt;
      &lt;/new-data&gt;
    &lt;/errors&gt;
  &lt;/delta-assertion&gt;
&lt;/jdbdt-log-message&gt;
</pre></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2016&#x2013;2020
                        <a href="http://jdbdt.org">JDBDT</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
